#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("@aws-cdk/core");
const pattern3_demo_stack_1 = require("../lib/pattern3-demo-stack");
const stepfunctions_test_stack_1 = require("../lib/stepfunctions-test-stack");
const env_stack_1 = require("../lib/env-stack");
const app = new cdk.App();
// Create two environment stacks, one for Test and one for Prod
const testEnvStack = new env_stack_1.EnvStack(app, 'Pattern3TestEnvStack', {
    production: false
});
const prodEnvSttack = new env_stack_1.EnvStack(app, 'Pattern3ProdEnvStack', {
    production: true
});
// Create the Lambda Test Stack
const lambdaStack = new stepfunctions_test_stack_1.StepFunctionsTestStack(app, 'StepFunctionsTestStack');
// Create the Pattern 3 Pipeline Stack
new pattern3_demo_stack_1.Pattern3DemoStack(app, 'Pattern3DemoStack', {
    lambdaTestCode: lambdaStack.lambdaTestCode,
    repoName: 'CodePipelineStepFunctions'
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF0dGVybjMtZGVtby5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInBhdHRlcm4zLWRlbW8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsdUNBQXFDO0FBQ3JDLHFDQUFxQztBQUNyQyxvRUFBK0Q7QUFDL0QsOEVBQXlFO0FBQ3pFLGdEQUE0QztBQUU1QyxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUUxQiwrREFBK0Q7QUFDL0QsTUFBTSxZQUFZLEdBQUcsSUFBSSxvQkFBUSxDQUFDLEdBQUcsRUFBRSxzQkFBc0IsRUFBRTtJQUMzRCxVQUFVLEVBQUUsS0FBSztDQUNwQixDQUFDLENBQUM7QUFDSCxNQUFNLGFBQWEsR0FBRyxJQUFJLG9CQUFRLENBQUMsR0FBRyxFQUFFLHNCQUFzQixFQUFFO0lBQzVELFVBQVUsRUFBRSxJQUFJO0NBQ25CLENBQUMsQ0FBQTtBQUVGLCtCQUErQjtBQUMvQixNQUFNLFdBQVcsR0FBRyxJQUFJLGlEQUFzQixDQUFDLEdBQUcsRUFBRSx3QkFBd0IsQ0FBQyxDQUFDO0FBRTlFLHNDQUFzQztBQUN0QyxJQUFJLHVDQUFpQixDQUFDLEdBQUcsRUFBRSxtQkFBbUIsRUFBRTtJQUM1QyxjQUFjLEVBQUUsV0FBVyxDQUFDLGNBQWM7SUFDMUMsUUFBUSxFQUFFLDJCQUEyQjtDQUN4QyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgJ3NvdXJjZS1tYXAtc3VwcG9ydC9yZWdpc3Rlcic7XG5pbXBvcnQgKiBhcyBjZGsgZnJvbSAnQGF3cy1jZGsvY29yZSc7XG5pbXBvcnQgeyBQYXR0ZXJuM0RlbW9TdGFjayB9IGZyb20gJy4uL2xpYi9wYXR0ZXJuMy1kZW1vLXN0YWNrJztcbmltcG9ydCB7IFN0ZXBGdW5jdGlvbnNUZXN0U3RhY2sgfSBmcm9tICcuLi9saWIvc3RlcGZ1bmN0aW9ucy10ZXN0LXN0YWNrJztcbmltcG9ydCB7IEVudlN0YWNrIH0gZnJvbSAnLi4vbGliL2Vudi1zdGFjayc7XG5cbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG5cbi8vIENyZWF0ZSB0d28gZW52aXJvbm1lbnQgc3RhY2tzLCBvbmUgZm9yIFRlc3QgYW5kIG9uZSBmb3IgUHJvZFxuY29uc3QgdGVzdEVudlN0YWNrID0gbmV3IEVudlN0YWNrKGFwcCwgJ1BhdHRlcm4zVGVzdEVudlN0YWNrJywge1xuICAgIHByb2R1Y3Rpb246IGZhbHNlXG59KTtcbmNvbnN0IHByb2RFbnZTdHRhY2sgPSBuZXcgRW52U3RhY2soYXBwLCAnUGF0dGVybjNQcm9kRW52U3RhY2snLCB7XG4gICAgcHJvZHVjdGlvbjogdHJ1ZVxufSlcblxuLy8gQ3JlYXRlIHRoZSBMYW1iZGEgVGVzdCBTdGFja1xuY29uc3QgbGFtYmRhU3RhY2sgPSBuZXcgU3RlcEZ1bmN0aW9uc1Rlc3RTdGFjayhhcHAsICdTdGVwRnVuY3Rpb25zVGVzdFN0YWNrJyk7XG5cbi8vIENyZWF0ZSB0aGUgUGF0dGVybiAzIFBpcGVsaW5lIFN0YWNrXG5uZXcgUGF0dGVybjNEZW1vU3RhY2soYXBwLCAnUGF0dGVybjNEZW1vU3RhY2snLCB7XG4gICAgbGFtYmRhVGVzdENvZGU6IGxhbWJkYVN0YWNrLmxhbWJkYVRlc3RDb2RlLFxuICAgIHJlcG9OYW1lOiAnQ29kZVBpcGVsaW5lU3RlcEZ1bmN0aW9ucydcbn0pO1xuIl19